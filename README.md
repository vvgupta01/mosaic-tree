This project was compiled with clang version 6.0.1 and requires a Linux system for directory parsing.

### Overview
This project implements nearest neighbor search (NNS) in k-dimensional space through a k-d tree, which is a generalization of a binary search tree that partitions points into convex hyperrectangles by choosing a point to define the direction of each hyperplane. Although the k-d tree supports any arbitrary dimension, specifically a 3 dimensional k-d tree is used to generate a mosaic from a given set of tiles to best resemble a given source image.

In this context, each point is represented as a pixel in the CIELUV color space, which preserves the notion of distance due to its perceptual uniformity. The mosaic is generated by using a k-d tree to find the tile with the closest average color to the average color of the corresponding region in the original image and then mapping the region to the tile. Mosaics can be found in the __/images__ directory. An example of a 200x200 tile mosaic with 25 pixels per tile:

![Sample Mosaic](images/sample-mosaic.png)

### Running
This project can be compiled with `make` and ran with `./main` for a user-friendly interface that provides a guided entry of inputs. The algorithm requires at least the path of the source image and the path of the directory containing the set of tiles to use. __Only PNGs are allowed for the source image and tiles.__ The number of tiles along the shortest side of the mosaic and the pixels per tile can also be specified, with the default values being 100 and 50 respectively. The number of tiles along the longest side of the mosaic is automatically calculated to preserve the aspect ratio of the source image as closely as possible.

For instance, `./main source.png tiles` generates a mosaic of source.png using images in the __tiles__ directory with 100 tiles along the shortest side and 50 pixels per tile, while `./main source.png tiles 50 25` generates the same mosaic but with 50 tiles along the shortest side and 25 pixels per tile.

_Note: Setting the number of tiles along the shortest side of the mosaic to the number of pixels along the shortest side of the source image will produce the highest resolution mosaic since every pixel is mapped to a tile. However, this is ideal only for small images since mosaics can quickly become extremely large due to the original image essentially being scaled by the number of pixels per tile._

#### Tiles
Tile images are automatically cropped to a square and resized, although it is recommended to use smaller images for faster runtimes. Similarly, it is recommended to use approximately 1000 images to include as many average tile colors as possible, although less images are adequate if they sufficiently vary. Since every average color is mapped to a unique tile, duplicate tiles with the same average color as another are ignored. A sample directory of 1863 80x80 tiles can be downloaded by running `wget https://courses.engr.illinois.edu/cs225/sp2019/assets/assignments/mps/mp_mosaics/uiuc-ig.zip` and unzipped using `zip -r uiuc-ig.zip tiles`, which is a set of Instagram photos shared by [@illinois1867](https://www.instagram.com/illinois1867/), [@illinoiscs](https://www.instagram.com/illinoiscs/), and [@eceillinois](https://www.instagram.com/eceillinois/).